datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

generator client {
  provider = "prisma-client-js"
}

enum Overlay {
  BLUE
  BLUE_GREY
  GREEN
  GREY
  ORANGE
  PEACH
  PURPLE
  RED
  TURQUOISE
  YELLOW
}

model User {
  Id                      String                   @id @unique 
  CreatedAt               DateTime                 @default(now())
  UpdatedAt               DateTime                 @updatedAt
  FirstName               String                   @db.VarChar(255)@default("Defaul")
  LastName                String                   @db.VarChar(255)@default("User")
  MaxWpm                  Int                      @db.SmallInt
  CurrentWpm              Int                      @db.SmallInt
  TimeTests               TimeTest[]
  ShulteSessions          ShulteSession[]
  EvenNumberSessions      EvenNumberSession[]
  WordGridFlasherSessions WordGridFlasherSession[]
  WordFlasherSessions     WordFlasherSession[]
  HighlightColor          Overlay
  DarkMode                Boolean                  @default(false)
  LastSchulteSession      DateTime                 @default("1900-01-01T00:00:00.000Z")
  LastSpeedTest           DateTime                 @default("1900-01-01T00:00:00.000Z")
  LastFourByOne           DateTime                 @default("1900-01-01T00:00:00.000Z")
  LastOneByTwo            DateTime                 @default("1900-01-01T00:00:00.000Z")
  LastTwoByTwo            DateTime                 @default("1900-01-01T00:00:00.000Z")
  LastOneByOne            DateTime                 @default("1900-01-01T00:00:00.000Z")
  LastEvenNumber          DateTime                 @default("1900-01-01T00:00:00.000Z")

  @@index([Id])
}

model TimeTest {
  Id        String   @unique
  userId    String
  user      User     @relation(fields: [userId], references: [Id])
  sessionId String   @id @default(cuid())
  CreatedAt DateTime @default(now())
  highScore Int      @db.SmallInt
  lowScore  Int      @db.SmallInt
  accuracy  Int      @db.SmallInt

  @@index([Id])
}

model ShulteSession {
  Id         String   @unique
  user       User     @relation(fields: [UserId], references: [Id])
  SideLength Int      @db.TinyInt
  StartTime  DateTime @db.DateTime
  EndTime    DateTime @db.DateTime
  ErrorCount Int      @db.SmallInt
  UserId     String   @db.VarChar(255)

  @@index([Id])
}

model EvenNumberSession {
  Id            String   @unique
  UserId        String
  user          User     @relation(fields: [UserId], references: [Id])
  ErrorCount    Int      @db.SmallInt
  numberCleared Int      @db.SmallInt
  date          DateTime @db.DateTime

  @@index([Id])
}

model WordGridFlasherSession {
  Id     String   @unique
  UserId String
  user   User     @relation(fields: [UserId], references: [Id])
  speed  Int      @db.SmallInt
  date   DateTime @db.DateTime
  type   String   @db.VarChar(255)

  @@index([Id])
}

model WordFlasherSession {
  Id     String   @unique
  UserId String
  user   User     @relation(fields: [UserId], references: [Id])
  speed  Int      @db.SmallInt
  date   DateTime @db.DateTime
  type   String   @db.VarChar(255)

  @@index([Id])
}

model SatPassage {
  Id          String        @unique
  passageText String
  questions   SatQuestion[]

  @@index([Id])
}

model SatQuestion {
  Id            String     @unique
  PassageId     String
  passage       SatPassage @relation(fields: [PassageId], references: [Id])
  question      String
  answerA       String     @db.VarChar(255)
  answerB       String     @db.VarChar(255)
  answerC       String     @db.VarChar(255)
  answerD       String     @db.VarChar(255)
  correctAnswer String     @db.Char(1)

  @@index([Id])
}

model SpeedQuestion{
  Id            Int        @unique@id@default(autoincrement())
  passage       String     @db.Text
  question      String     @db.Text
  answerA       String     
  answerB       String    
  answerC       String   
  answerD       String  
  correctAnswer String 

  @@index([Id])
}

